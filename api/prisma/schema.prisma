generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model plans {
  id          Int       @id @default(autoincrement())
  taken_at    DateTime? @default(now()) @db.Timestamptz(6)
  user_id     Int?
  plan_type   String?
  expires_in  DateTime? @db.Timestamptz(6)
  paid_amount Int?
  user        user?     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model trainer {
  id          Int           @id @default(autoincrement())
  created_at  DateTime?     @default(now()) @db.Timestamptz(6)
  name        String?       @unique
  gender      String?
  ph_num      Int?
  trains_user trains_user[]
}

model trains_user {
  id         Int       @id @default(autoincrement())
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  trainer_id Int?
  user_id    Int?
  trainer    trainer?  @relation(fields: [trainer_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  user       user?     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model user {
  id          Int           @id @unique @default(autoincrement())
  created_at  DateTime?     @default(now()) @db.Timestamptz(6)
  fname       String?
  lname       String?
  password    String?
  age         Int?          @db.SmallInt
  weight      Int?          @db.SmallInt
  height      Int?          @db.SmallInt
  ph_num      Int           @unique
  address     String?
  plans       plans[]
  trains_user trains_user[]
}
